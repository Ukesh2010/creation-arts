{"ast":null,"code":"import httpClient from \"./httpClient\";\nimport convertJsonToFormData from \"../utils/convertJsonToFormData\";\nimport { getItem, removeItem } from \"../utils/localStorage\";\n\nconst getHttpClient = (token = getItem(\"token\"), isMultipartRequest = false, validateStatus = false) => {\n  const axiosConfig = {\n    transformRequest: [(data, headers) => {\n      headers[\"Accept\"] = \"application/json\";\n\n      if (token) {\n        headers[\"Authorization\"] = `Bearer ${token}`;\n      }\n\n      if (isMultipartRequest) {\n        headers[\"Content-Type\"] = \"multipart/form-data\";\n        return convertJsonToFormData(data);\n      }\n\n      headers[\"Content-Type\"] = \"application/json\";\n      return JSON.stringify(data);\n    }]\n  };\n\n  if (validateStatus) {\n    axiosConfig.validateStatus = function (status) {\n      if (status === 401) {\n        removeItem(\"token\");\n        removeItem(\"cart\");\n        window.location.reload();\n      }\n\n      return status >= 200 && status < 300;\n    };\n  }\n\n  return httpClient(axiosConfig);\n};\n\nexport const getCategories = token => async params => {\n  return await getHttpClient(token).get(\"/categories\", {\n    params\n  }).then(response => response.data);\n};\nexport const getProducts = token => async params => {\n  return await getHttpClient(token).get(\"/products\", {\n    params\n  }).then(response => response.data);\n};\nexport const getProductDetail = token => async id => {\n  return await getHttpClient(token).get(`/products/${id}`).then(response => response.data);\n};\nexport const createPayPalTransaction = () => async (data) => await getHttpClient(getItem(\"token\")).post(`/orders/create-paypal-transaction`, data).then(response => response.data);\nexport const captureOrder = () => async data => {\n  const response = await getHttpClient(getItem(\"token\")).post(`/orders/capture-order`, data);\n  return response.data;\n};\nexport const getOrders = token => async params => {\n  return await getHttpClient(token).get(\"/orders\", {\n    params\n  }).then(response => response.data).catch(e => {\n    var _e$response;\n\n    throw (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.data) || e;\n  });\n};\nexport const login = async data => {\n  return await getHttpClient().post(`/users/login`, data).then(response => response.data).catch(e => {\n    var _e$response2;\n\n    throw (e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : _e$response2.data) || e;\n  });\n};\nexport const forgotPassword = async data => {\n  return await getHttpClient().post(`/users/forgot-password`, data).then(response => response.data).catch(e => {\n    var _e$response3;\n\n    throw (e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : _e$response3.data) || e;\n  });\n};\nexport const register = async data => {\n  return await getHttpClient().post(`/users/register`, data).then(response => response.data).catch(e => {\n    var _e$response4;\n\n    throw (e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : _e$response4.data) || e;\n  });\n};\nexport const resetPassword = async data => {\n  return await getHttpClient().post(`/users/reset-password`, data).then(response => response.data).catch(e => {\n    var _e$response5;\n\n    throw (e === null || e === void 0 ? void 0 : (_e$response5 = e.response) === null || _e$response5 === void 0 ? void 0 : _e$response5.data) || e;\n  });\n};\nexport const changePassword = async data => {\n  return await getHttpClient(getItem(\"token\")).post(`/users/change-password`, data).then(response => response.data).catch(e => {\n    var _e$response6;\n\n    throw (e === null || e === void 0 ? void 0 : (_e$response6 = e.response) === null || _e$response6 === void 0 ? void 0 : _e$response6.data) || e;\n  });\n};\nexport const getUser = token => async params => {\n  return await getHttpClient(token).get(\"/users/current\", {\n    params\n  }).then(response => response.data);\n};\nexport const updateUser = async data => {\n  return await getHttpClient().put(`/users/current`, data).then(response => response.data).catch(e => {\n    var _e$response7;\n\n    throw (e === null || e === void 0 ? void 0 : (_e$response7 = e.response) === null || _e$response7 === void 0 ? void 0 : _e$response7.data) || e;\n  });\n};\nexport const getSetting = token => async () => {\n  return await getHttpClient(token).get(\"/setting\").then(response => response.data.data);\n};","map":{"version":3,"sources":["/home/anuz/work/personal/creation-arts/api/index.js"],"names":["httpClient","convertJsonToFormData","getItem","removeItem","getHttpClient","token","isMultipartRequest","validateStatus","axiosConfig","transformRequest","data","headers","JSON","stringify","status","window","location","reload","getCategories","params","get","then","response","getProducts","getProductDetail","id","createPayPalTransaction","post","captureOrder","getOrders","catch","e","login","forgotPassword","register","resetPassword","changePassword","getUser","updateUser","put","getSetting"],"mappings":"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","sourcesContent":["import httpClient from \"./httpClient\";\nimport convertJsonToFormData from \"../utils/convertJsonToFormData\";\nimport { getItem, removeItem } from \"../utils/localStorage\";\n\nconst getHttpClient = (\n  token = getItem(\"token\"),\n  isMultipartRequest = false,\n  validateStatus = false\n) => {\n  const axiosConfig = {\n    transformRequest: [\n      (data, headers) => {\n        headers[\"Accept\"] = \"application/json\";\n        if (token) {\n          headers[\"Authorization\"] = `Bearer ${token}`;\n        }\n        if (isMultipartRequest) {\n          headers[\"Content-Type\"] = \"multipart/form-data\";\n          return convertJsonToFormData(data);\n        }\n\n        headers[\"Content-Type\"] = \"application/json\";\n        return JSON.stringify(data);\n      },\n    ],\n  };\n  if (validateStatus) {\n    axiosConfig.validateStatus = function (status) {\n      if (status === 401) {\n        removeItem(\"token\");\n        removeItem(\"cart\");\n        window.location.reload();\n      }\n      return status >= 200 && status < 300;\n    };\n  }\n\n  return httpClient(axiosConfig);\n};\n\nexport const getCategories = (token) => async (params) => {\n  return await getHttpClient(token)\n    .get(\"/categories\", { params })\n    .then((response) => response.data);\n};\n\nexport const getProducts = (token) => async (params) => {\n  return await getHttpClient(token)\n    .get(\"/products\", { params })\n    .then((response) => response.data);\n};\n\nexport const getProductDetail = (token) => async (id) => {\n  return await getHttpClient(token)\n    .get(`/products/${id}`)\n    .then((response) => response.data);\n};\n\nexport const createPayPalTransaction = () => async (data) =>\n  await getHttpClient(getItem(\"token\"))\n    .post(`/orders/create-paypal-transaction`, data)\n    .then((response) => response.data);\n\nexport const captureOrder = () => async (data) => {\n  const response = await getHttpClient(getItem(\"token\")).post(\n    `/orders/capture-order`,\n    data\n  );\n\n  return response.data;\n};\n\nexport const getOrders = (token) => async (params) => {\n  return await getHttpClient(token)\n    .get(\"/orders\", { params })\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data || e;\n    });\n};\n\nexport const login = async (data) => {\n  return await getHttpClient()\n    .post(`/users/login`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data || e;\n    });\n};\nexport const forgotPassword = async (data) => {\n  return await getHttpClient()\n    .post(`/users/forgot-password`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data || e;\n    });\n};\n\nexport const register = async (data) => {\n  return await getHttpClient()\n    .post(`/users/register`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data || e;\n    });\n};\n\nexport const resetPassword = async (data) => {\n  return await getHttpClient()\n    .post(`/users/reset-password`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data || e;\n    });\n};\n\nexport const changePassword = async (data) => {\n  return await getHttpClient(getItem(\"token\"))\n    .post(`/users/change-password`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data || e;\n    });\n};\n\nexport const getUser = (token) => async (params) => {\n  return await getHttpClient(token)\n    .get(\"/users/current\", { params })\n    .then((response) => response.data);\n};\n\nexport const updateUser = async (data) => {\n  return await getHttpClient()\n    .put(`/users/current`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data || e;\n    });\n};\n\nexport const getSetting = (token) => async () => {\n  return await getHttpClient(token)\n    .get(\"/setting\")\n    .then((response) => response.data.data);\n};\n"]},"metadata":{},"sourceType":"module"}