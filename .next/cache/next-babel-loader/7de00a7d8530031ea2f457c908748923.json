{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport httpClient from \"./httpClient\";\nimport convertJsonToFormData from \"../utils/convertJsonToFormData\";\nimport { getItem, removeItem } from \"../utils/localStorage\";\n\nvar getHttpClient = function getHttpClient() {\n  var token = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getItem(\"token\");\n  var isMultipartRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var validateStatus = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var axiosConfig = {\n    transformRequest: [function (data, headers) {\n      headers[\"Accept\"] = \"application/json\";\n\n      if (token) {\n        headers[\"Authorization\"] = \"Bearer \".concat(token);\n      }\n\n      if (isMultipartRequest) {\n        headers[\"Content-Type\"] = \"multipart/form-data\";\n        return convertJsonToFormData(data);\n      }\n\n      headers[\"Content-Type\"] = \"application/json\";\n      return JSON.stringify(data);\n    }]\n  };\n\n  if (validateStatus) {\n    axiosConfig.validateStatus = function (status) {\n      if (status === 401) {\n        removeItem(\"token\");\n        removeItem(\"cart\");\n        window.location.reload();\n      }\n\n      return status >= 200 && status < 300;\n    };\n  }\n\n  return httpClient(axiosConfig);\n};\n\nexport var getCategories = function getCategories(token) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getHttpClient(token).get(\"/categories\", {\n                params: params\n              }).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getProducts = function getProducts(token) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getHttpClient(token).get(\"/products\", {\n                params: params\n              }).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var getProductDetail = function getProductDetail(token) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return getHttpClient(token).get(\"/products/\".concat(id)).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var createPayPalTransaction = function createPayPalTransaction(token) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return getHttpClient(token).post(\"/orders/create-paypal-transaction\", data).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var captureOrder = function captureOrder(token) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return getHttpClient(token).post(\"/orders/capture-order\", data);\n\n            case 2:\n              response = _context5.sent;\n              return _context5.abrupt(\"return\", response.data);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var login = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(data) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return getHttpClient().post(\"/users/login\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response;\n\n              throw e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.data;\n            });\n\n          case 2:\n            return _context6.abrupt(\"return\", _context6.sent);\n\n          case 3:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function login(_x6) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var register = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data) {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return getHttpClient().post(\"/users/register\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response2;\n\n              throw e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : _e$response2.data;\n            });\n\n          case 2:\n            return _context7.abrupt(\"return\", _context7.sent);\n\n          case 3:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function register(_x7) {\n    return _ref7.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/home/anuz/work/personal/creation-arts/api/index.js"],"names":["httpClient","convertJsonToFormData","getItem","removeItem","getHttpClient","token","isMultipartRequest","validateStatus","axiosConfig","transformRequest","data","headers","JSON","stringify","status","window","location","reload","getCategories","params","get","then","response","getProducts","getProductDetail","id","createPayPalTransaction","post","captureOrder","login","e","register"],"mappings":"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","sourcesContent":["import httpClient from \"./httpClient\";\nimport convertJsonToFormData from \"../utils/convertJsonToFormData\";\nimport { getItem, removeItem } from \"../utils/localStorage\";\n\nconst getHttpClient = (\n  token = getItem(\"token\"),\n  isMultipartRequest = false,\n  validateStatus = false\n) => {\n  const axiosConfig = {\n    transformRequest: [\n      (data, headers) => {\n        headers[\"Accept\"] = \"application/json\";\n        if (token) {\n          headers[\"Authorization\"] = `Bearer ${token}`;\n        }\n        if (isMultipartRequest) {\n          headers[\"Content-Type\"] = \"multipart/form-data\";\n          return convertJsonToFormData(data);\n        }\n\n        headers[\"Content-Type\"] = \"application/json\";\n        return JSON.stringify(data);\n      },\n    ],\n  };\n  if (validateStatus) {\n    axiosConfig.validateStatus = function (status) {\n      if (status === 401) {\n        removeItem(\"token\");\n        removeItem(\"cart\");\n        window.location.reload();\n      }\n      return status >= 200 && status < 300;\n    };\n  }\n\n  return httpClient(axiosConfig);\n};\n\nexport const getCategories = (token) => async (params) => {\n  return await getHttpClient(token)\n    .get(\"/categories\", { params })\n    .then((response) => response.data);\n};\n\nexport const getProducts = (token) => async (params) => {\n  return await getHttpClient(token)\n    .get(\"/products\", { params })\n    .then((response) => response.data);\n};\n\nexport const getProductDetail = (token) => async (id) => {\n  return await getHttpClient(token)\n    .get(`/products/${id}`)\n    .then((response) => response.data);\n};\n\nexport const createPayPalTransaction = (token) => async (data) =>\n  await getHttpClient(token)\n    .post(`/orders/create-paypal-transaction`, data)\n    .then((response) => response.data);\n\nexport const captureOrder = (token) => async (data) => {\n  const response = await getHttpClient(token).post(\n    `/orders/capture-order`,\n    data\n  );\n\n  return response.data;\n};\n\nexport const login = async (data) => {\n  return await getHttpClient()\n    .post(`/users/login`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data;\n    });\n};\n\nexport const register = async (data) => {\n  return await getHttpClient()\n    .post(`/users/register`, data)\n    .then((response) => response.data)\n    .catch((e) => {\n      throw e?.response?.data;\n    });\n};\n"]},"metadata":{},"sourceType":"module"}