{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { Fragment } from \"react\";\nimport Head from \"next/head\";\nimport Nav from \"../../components/nav\";\nimport Footer from \"../../components/footer\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUserCircle } from \"@fortawesome/free-solid-svg-icons/faUserCircle\";\nimport { useRouter } from \"next/router\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { getServerSideCookie } from \"../../utils/serverSideStorage\";\nimport { getUser } from \"../../api\";\nimport Link from \"next/link\";\n\nconst Profile = ({\n  user\n}) => {\n  const {\n    logout\n  } = useAuth();\n  const router = useRouter();\n\n  const onLogoutClick = () => {\n    logout();\n    router.push(\"/login\");\n  };\n\n  const onChangePasswordClick = () => {\n    router.push(\"/change-password\");\n  };\n\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Products\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      })]\n    }), /*#__PURE__*/_jsx(Nav, {}), /*#__PURE__*/_jsx(\"section\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"app-page-container\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"profile-details-container\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"profile-avatar\",\n            children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: faUserCircle\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"wrapper\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"profile-info\",\n              children: [/*#__PURE__*/_jsx(\"h3\", {\n                className: \"username\",\n                children: user === null || user === void 0 ? void 0 : user.role\n              }), /*#__PURE__*/_jsx(\"span\", {\n                className: \"email\",\n                children: user === null || user === void 0 ? void 0 : user.email\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"/my-orders\",\n                children: \"My orders\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"action-container\",\n              children: [/*#__PURE__*/_jsx(\"button\", {\n                className: \"btn accent-btn\",\n                onClick: onChangePasswordClick,\n                children: \"Change Password\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                className: \"btn primary-outline-btn\",\n                onClick: onLogoutClick,\n                children: \"Logout\"\n              })]\n            })]\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n};\n\nexport default Profile;\nexport const getServerSideProps = async context => {\n  const token = getServerSideCookie(context)(\"token\");\n\n  try {\n    const user = await getUser(token)();\n    return {\n      props: {\n        user\n      }\n    };\n  } catch (e) {\n    console.log(\"error\", e.message);\n  }\n\n  return {\n    props: {\n      user: {}\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"module"}