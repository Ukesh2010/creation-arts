{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/anuz/work/personal/creation-arts/components/product.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport Image from \"next/image\";\nimport { PRODUCT_IMAGE_FILLER } from \"../utils/consts\";\nimport Link from \"next/link\";\nimport { useCartActions, useCartState } from \"../contexts/CartContext\";\n\nvar Product = function Product(_ref) {\n  _s();\n\n  var data = _ref.data;\n\n  var _id = data._id,\n      name = data.name,\n      price = data.price,\n      _data$images = _slicedToArray(data.images, 1),\n      image = _data$images[0];\n\n  var _useCartActions = useCartActions(),\n      findItem = _useCartActions.findItem,\n      addItem = _useCartActions.addItem;\n\n  var disableButton = Boolean(findItem(_id));\n\n  var onAddToCart = function onAddToCart() {\n    addItem(_objectSpread(_objectSpread({}, data), {}, {\n      quantity: 1,\n      total_amount: price\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-image\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/product-detail/\".concat(_id),\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          src: PRODUCT_IMAGE_FILLER // src={image ? image.url : PRODUCT_IMAGE_FILLER}\n          ,\n          alt: name,\n          layout: \"fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-name\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-price\",\n        children: [\"$\", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn primary-outline-btn\",\n        disabled: disableButton,\n        onClick: onAddToCart,\n        children: \"Add to Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Product, \"bzr4ikmkf0PUH5T1mASVkCNkPuo=\", false, function () {\n  return [useCartActions];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/anuz/work/personal/creation-arts/components/product.js"],"names":["React","Image","PRODUCT_IMAGE_FILLER","Link","useCartActions","useCartState","Product","data","_id","name","price","images","image","findItem","addItem","disableButton","Boolean","onAddToCart","quantity","total_amount"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAASC,oBAAT,QAAqC,iBAArC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,cAAT,EAAyBC,YAAzB,QAA6C,yBAA7C;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAc;AAAA;;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AAAA,MAE1BC,GAF0B,GAMxBD,IANwB,CAE1BC,GAF0B;AAAA,MAG1BC,IAH0B,GAMxBF,IANwB,CAG1BE,IAH0B;AAAA,MAI1BC,KAJ0B,GAMxBH,IANwB,CAI1BG,KAJ0B;AAAA,oCAMxBH,IANwB,CAK1BI,MAL0B;AAAA,MAKjBC,KALiB;;AAAA,wBAOER,cAAc,EAPhB;AAAA,MAOpBS,QAPoB,mBAOpBA,QAPoB;AAAA,MAOVC,OAPU,mBAOVA,OAPU;;AAQ5B,MAAMC,aAAa,GAAGC,OAAO,CAACH,QAAQ,CAACL,GAAD,CAAT,CAA7B;;AACA,MAAMS,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBH,IAAAA,OAAO,iCAAMP,IAAN;AAAYW,MAAAA,QAAQ,EAAE,CAAtB;AAAyBC,MAAAA,YAAY,EAAET;AAAvC,OAAP;AACD,GAFD;;AAGA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,IAAI,4BAAqBF,GAArB,CAAV;AAAA,+BACE,QAAC,KAAD;AACE,UAAA,GAAG,EAAEN,oBADP,CAEE;AAFF;AAGE,UAAA,GAAG,EAAEO,IAHP;AAIE,UAAA,MAAM,EAAC;AAJT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aADF,eAWE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,kBAA+BA;AAA/B;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,wBAAiCC,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,eAGE;AACE,QAAA,SAAS,EAAC,yBADZ;AAEE,QAAA,QAAQ,EAAEK,aAFZ;AAGE,QAAA,OAAO,EAAEE,WAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF;AAAA;AAAA;AAAA;AAAA;AAAA,aAXF;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAyBD,CArCD;;GAAMX,O;UAO0BF,c;;;KAP1BE,O;AAuCN,eAAeA,OAAf","sourcesContent":["import React from \"react\";\nimport Image from \"next/image\";\nimport { PRODUCT_IMAGE_FILLER } from \"../utils/consts\";\nimport Link from \"next/link\";\nimport { useCartActions, useCartState } from \"../contexts/CartContext\";\n\nconst Product = ({ data }) => {\n  const {\n    _id,\n    name,\n    price,\n    images: [image],\n  } = data;\n  const { findItem, addItem } = useCartActions();\n  const disableButton = Boolean(findItem(_id));\n  const onAddToCart = () => {\n    addItem({ ...data, quantity: 1, total_amount: price });\n  };\n  return (\n    <div className=\"product-item\">\n      <div className=\"product-image\">\n        <Link href={`/product-detail/${_id}`}>\n          <Image\n            src={PRODUCT_IMAGE_FILLER}\n            // src={image ? image.url : PRODUCT_IMAGE_FILLER}\n            alt={name}\n            layout=\"fill\"\n          />\n        </Link>\n      </div>\n      <div className=\"product-details\">\n        <div className=\"product-name\">{name}</div>\n        <div className=\"product-price\">${price}</div>\n        <button\n          className=\"btn primary-outline-btn\"\n          disabled={disableButton}\n          onClick={onAddToCart}\n        >\n          Add to Cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}