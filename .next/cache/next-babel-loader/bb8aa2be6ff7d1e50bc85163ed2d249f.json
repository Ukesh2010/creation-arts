{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport httpClient from \"./httpClient\";\nimport convertJsonToFormData from \"../utils/convertJsonToFormData\";\nimport { getItem, removeItem } from \"../utils/localStorage\";\n\nvar getHttpClient = function getHttpClient() {\n  var token = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getItem(\"token\");\n  var isMultipartRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var validateStatus = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var axiosConfig = {\n    transformRequest: [function (data, headers) {\n      headers[\"Accept\"] = \"application/json\";\n\n      if (token) {\n        headers[\"Authorization\"] = \"Bearer \".concat(token);\n      }\n\n      if (isMultipartRequest) {\n        headers[\"Content-Type\"] = \"multipart/form-data\";\n        return convertJsonToFormData(data);\n      }\n\n      headers[\"Content-Type\"] = \"application/json\";\n      return JSON.stringify(data);\n    }]\n  };\n\n  if (validateStatus) {\n    axiosConfig.validateStatus = function (status) {\n      if (status === 401) {\n        removeItem(\"token\");\n        removeItem(\"cart\");\n        window.location.reload();\n      }\n\n      return status >= 200 && status < 300;\n    };\n  }\n\n  return httpClient(axiosConfig);\n};\n\nexport var getCategories = function getCategories(token) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getHttpClient(token).get(\"/categories\", {\n                params: params\n              }).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getProducts = function getProducts(token) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getHttpClient(token).get(\"/products\", {\n                params: params\n              }).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var getProductDetail = function getProductDetail(token) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return getHttpClient(token).get(\"/products/\".concat(id)).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var createPayPalTransaction = function createPayPalTransaction() {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return getHttpClient(getItem(\"token\")).post(\"/orders/create-paypal-transaction\", data).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var captureOrder = function captureOrder() {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return getHttpClient(getItem(\"token\")).post(\"/orders/capture-order\", data);\n\n            case 2:\n              response = _context5.sent;\n              return _context5.abrupt(\"return\", response.data);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var getOrders = function getOrders(token) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(params) {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return getHttpClient(token).get(\"/orders\", {\n                params: params\n              }).then(function (response) {\n                return response.data;\n              })[\"catch\"](function (e) {\n                var _e$response;\n\n                throw (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.data) || e;\n              });\n\n            case 2:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 3:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};\nexport var login = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data) {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return getHttpClient().post(\"/users/login\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response2;\n\n              throw (e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : _e$response2.data) || e;\n            });\n\n          case 2:\n            return _context7.abrupt(\"return\", _context7.sent);\n\n          case 3:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function login(_x7) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var forgotPassword = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data) {\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.next = 2;\n            return getHttpClient().post(\"/users/forgot-password\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response3;\n\n              throw (e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : _e$response3.data) || e;\n            });\n\n          case 2:\n            return _context8.abrupt(\"return\", _context8.sent);\n\n          case 3:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function forgotPassword(_x8) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexport var register = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(data) {\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.next = 2;\n            return getHttpClient().post(\"/users/register\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response4;\n\n              throw (e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : _e$response4.data) || e;\n            });\n\n          case 2:\n            return _context9.abrupt(\"return\", _context9.sent);\n\n          case 3:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n\n  return function register(_x9) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nexport var resetPassword = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(data) {\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.next = 2;\n            return getHttpClient().post(\"/users/reset-password\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response5;\n\n              throw (e === null || e === void 0 ? void 0 : (_e$response5 = e.response) === null || _e$response5 === void 0 ? void 0 : _e$response5.data) || e;\n            });\n\n          case 2:\n            return _context10.abrupt(\"return\", _context10.sent);\n\n          case 3:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n\n  return function resetPassword(_x10) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexport var changePassword = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(data) {\n    return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            _context11.next = 2;\n            return getHttpClient(getItem(\"token\")).post(\"/users/change-password\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response6;\n\n              throw (e === null || e === void 0 ? void 0 : (_e$response6 = e.response) === null || _e$response6 === void 0 ? void 0 : _e$response6.data) || e;\n            });\n\n          case 2:\n            return _context11.abrupt(\"return\", _context11.sent);\n\n          case 3:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee11);\n  }));\n\n  return function changePassword(_x11) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nexport var getUser = function getUser(token) {\n  return /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(params) {\n      return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.next = 2;\n              return getHttpClient(token).get(\"/users/current\", {\n                params: params\n              }).then(function (response) {\n                return response.data;\n              });\n\n            case 2:\n              return _context12.abrupt(\"return\", _context12.sent);\n\n            case 3:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    return function (_x12) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n};\nexport var updateUser = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(data) {\n    return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            _context13.next = 2;\n            return getHttpClient().put(\"/users/current\", data).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (e) {\n              var _e$response7;\n\n              throw (e === null || e === void 0 ? void 0 : (_e$response7 = e.response) === null || _e$response7 === void 0 ? void 0 : _e$response7.data) || e;\n            });\n\n          case 2:\n            return _context13.abrupt(\"return\", _context13.sent);\n\n          case 3:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee13);\n  }));\n\n  return function updateUser(_x13) {\n    return _ref13.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"module"}